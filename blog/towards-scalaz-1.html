<!DOCTYPE html>
<html lang="en" data-bulma-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" href="../img/favicon.ico" sizes="32x32">
  <link rel="icon" href="../img/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="../img/apple-touch-icon.png">

  <script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/js/all.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/fontawesome.min.css"
    rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.28/dist/katex.min.css" integrity="sha384-Wsr4Nh3yrvMf2KCebJchRJoVo1gTU6kcP05uRSh5NV3sj9+a8IomuJoQzf3sMq4T" crossorigin="anonymous">

  <link rel="stylesheet" href="../main.css">
  <link rel="stylesheet" href="../css/code.css">
  <link rel="stylesheet" href="../search/docs.css">
  <script src="../main.js"></script>

  <title>Towards Scalaz (Part 1)</title>
</head>

<body class="bulma-is-flex bulma-is-flex-direction-column">
  <nav class="bulma-navbar" role="navigation" aria-label="main navigation">
  <div class="bulma-navbar-brand">
    <a class="bulma-navbar-item" href="../">
      <img src="../img/logo.svg" />
    </a>

    <a role="button" class="bulma-navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu"
      onClick="handleBurgerClick(this)">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="bulma-navbar-menu" id="navMenu">
    <div class="bulma-navbar-start">

    </div>
    <div class="bulma-navbar-end">
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-rounded bulma-is-primary bulma-has-text-light">Get Started</a></div> -->
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text">Learn</a></div> -->
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../community/">Community</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../foundation/">Foundation</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="index.html">Blog</a></div>
      <div class="bulma-navbar-item">
        <a id="search-top-bar" class="bulma-button bulma-is-text" aria-label="Search" onclick="showSearchModal()">
          <span class="bulma-icon bulma-is-small">
            <i class="fas fa-magnifying-glass"></i>
          </span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Search Modal -->
<div id="search-modal" class="bulma-modal bulma-is-justify-content-flex-start bulma-pt-6 bulma-pb-6">
  <div class="bulma-modal-background bulma-is-align-items-flex-start" onclick="hideSearchModal()"></div>
  <div class="bulma-modal-card">
    <header class="bulma-modal-card-head">
      <p class="bulma-control bulma-has-icons-left bulma-is-flex-grow-1">
        <input id="search-input" class="bulma-input bulma-is-medium bulma-is-primary" type="search" autocomplete="off" oninput="onSearchInput(event)">
        <span class="bulma-icon bulma-is-left bulma-has-text-primary">
          <i class="fas fa-magnifying-glass"></i>
        </span>
      </p>
    </header>
    <section id="search-results" class="bulma-modal-card-body">
    </section>
    <footer class="bulma-modal-card-foot bulma-is-justify-content-space-between">
      <span class="bulma-has-text-grey bulma-is-size-7">
        <kbd class="bulma-tag">/</kbd> to open search &nbsp;
        <kbd class="bulma-tag">Esc</kbd> to close
      </span>
    </footer>
  </div>
</div>

  <main class="bulma-is-flex-grow-1">
    
<section class="bulma-hero bulma-is-primary bulma-is-bold">
  <div class="bulma-hero-body bulma-container bulma-is-max-desktop">
    <p class="bulma-title bulma-has-text-light">Towards Scalaz (Part 1)</p>
    <p class="blog-post-byline bulma-has-text-light bulma-subtitle">
      by
      
        Adelbert Chang<span class="delimiter">,</span><span class="last-delimiter"> &</span>
      
      on October 13, 2013
    </p>
     
      <span class="bulma-tag">technical</span>
     
  </div>
</section>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="blog-post bulma-content">
    <h1 id="towards-scalaz-part-1" class="title">Towards Scalaz (Part 1)</h1>
    <p>A lot of people see Scalaz as a hard fringe, ivory tower,
    not suited for real-world applications library, which is
    unfortunate. The goal of this blog post series is to introduce
    various components of Scalaz, and hopefully through this
    allow folks to gain an understanding towards the power of
    Scalaz.</p>
    <p>As a prerequisite, I assume knowledge of type classes as they
    are implemented and used in Scala.</p>
    
    <h2 id="part-1-learning-to-add" class="section"><a class="anchor-link" href="#part-1-learning-to-add"><code class="fas fa-link fa-sm"></code></a>Part 1: Learning to Add</h2>
    <p>Our motivation for the inaugural post of the series will be
    summing a <code>List</code> of something. Lets start out with <code>Int</code>,
    which is simple enough.</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sum</span><span>(</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]): </span><span class="type-name">Int</span><span> = </span><span class="identifier">l</span><span>.</span><span class="identifier">reduce</span><span>(</span><span class="identifier">_</span><span> + </span><span class="identifier">_</span><span>)</span></code></pre>
    <p>And this works (kind of, it fails on empty <code>List</code>s but we&#39;ll get to that).
    But what if we want to sum a <code>List[Double]</code>?</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sumDoubles</span><span>(</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">Double</span><span>]): </span><span class="type-name">Double</span><span> = </span><span class="identifier">l</span><span>.</span><span class="identifier">reduce</span><span>(</span><span class="identifier">_</span><span> + </span><span class="identifier">_</span><span>)</span></code></pre>
    <p>The code is the same, modulo the type parameter. In fact, the
    code would be the same whether it is <code>Int</code>, <code>Double</code>, or <code>BigInt</code>.
    Being the good programmers that we are, let&#39;s make this generic
    in that respect with the help of <code>scala.math.Numeric</code>.</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sumNumeric</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>])(</span><span class="keyword">implicit</span><span> </span><span class="type-name">A</span><span>: </span><span class="type-name">Numeric</span><span>[</span><span class="type-name">A</span><span>]): </span><span class="type-name">A</span><span> =
  </span><span class="identifier">l</span><span>.</span><span class="identifier">reduce</span><span>(</span><span class="type-name">A</span><span>.</span><span class="identifier">plus</span><span>)</span></code></pre>
    
    <h3 id="problem" class="section"><a class="anchor-link" href="#problem"><code class="fas fa-link fa-sm"></code></a>Problem</h3>
    <p>Awesome. We can now sum <code>List[Int]</code>, <code>List[Double]</code>, <code>List[BigInt]</code>,
    and many more.</p>
    <p>But let&#39;s give this a bit more thought - what if we wanted to
    &quot;sum&quot; a <code>List[String]</code> - that is, we concatenate all the <code>String</code>s
    together to create one large <code>String</code> ?</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sumStrings</span><span>(</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">String</span><span>]): </span><span class="type-name">String</span><span> = </span><span class="identifier">l</span><span>.</span><span class="identifier">reduce</span><span>(</span><span class="identifier">_</span><span> + </span><span class="identifier">_</span><span>)</span></code></pre>
    <p>This looks exactly like summing <code>Int</code> and <code>Double</code>s! This however
    does not work with our <code>sumNumeric</code> - there is no (sane) way to define
    a <code>Numeric[String]</code>.</p>
    <p>Another way to look at this is that we only use the <code>plus</code> method
    on <code>Numeric</code>, never any of the other methods that also make sense
    for numeric types. So while our function works for summing a List
    of numeric types, it does not work for anything else that is not
    numeric but can still be &quot;added&quot; (<code>String</code> and string concatenation,
    <code>List[A]</code> and <code>List#++</code>).</p>
    
    <h3 id="making-it-generic" class="section"><a class="anchor-link" href="#making-it-generic"><code class="fas fa-link fa-sm"></code></a>Making it generic</h3>
    <p>So what do we want? We want a type class that only requires instances
    to be able to &quot;add&quot; two <code>A</code>s to get another <code>A</code>.</p>
    <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">Addable</span><span>[</span><span class="type-name">A</span><span>] {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">plus</span><span>(</span><span class="identifier">x</span><span>: </span><span class="type-name">A</span><span>, </span><span class="identifier">y</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">A</span><span>
}</span></code></pre>
    <p>And let&#39;s define an instance of <code>Addable</code> for all <code>Numeric</code> types and <code>String</code>.</p>
    <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">Addable</span><span> {
  </span><span class="keyword">implicit</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">numericIsAddable</span><span>[</span><span class="type-name">A</span><span>](</span><span class="keyword">implicit</span><span> </span><span class="type-name">A</span><span>: </span><span class="type-name">Numeric</span><span>[</span><span class="type-name">A</span><span>]): </span><span class="type-name">Addable</span><span>[</span><span class="type-name">A</span><span>] =
    </span><span class="keyword">new</span><span> </span><span class="type-name">Addable</span><span>[</span><span class="type-name">A</span><span>] {
      </span><span class="keyword">def</span><span> </span><span class="declaration-name">plus</span><span>(</span><span class="identifier">x</span><span>: </span><span class="type-name">A</span><span>, </span><span class="identifier">y</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">A</span><span> = </span><span class="type-name">A</span><span>.</span><span class="identifier">plus</span><span>(</span><span class="identifier">x</span><span>, </span><span class="identifier">y</span><span>)
    }

  </span><span class="keyword">implicit</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">stringIsAddable</span><span>: </span><span class="type-name">Addable</span><span>[</span><span class="type-name">String</span><span>] =
    </span><span class="keyword">new</span><span> </span><span class="type-name">Addable</span><span>[</span><span class="type-name">String</span><span>] {
      </span><span class="keyword">def</span><span> </span><span class="declaration-name">plus</span><span>(</span><span class="identifier">x</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">y</span><span>: </span><span class="type-name">String</span><span>): </span><span class="type-name">String</span><span> = </span><span class="identifier">x</span><span> + </span><span class="identifier">y</span><span>
    }
}</span></code></pre>
    <p>And here&#39;s our shiny new generic summer function!</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sumGeneric</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>])(</span><span class="keyword">implicit</span><span> </span><span class="type-name">A</span><span>: </span><span class="type-name">Addable</span><span>[</span><span class="type-name">A</span><span>]): </span><span class="type-name">A</span><span> =
  </span><span class="identifier">l</span><span>.</span><span class="identifier">reduce</span><span>(</span><span class="type-name">A</span><span>.</span><span class="identifier">plus</span><span>)</span></code></pre>
    <p>And now this works for <code>Int</code>, <code>Double</code>, <code>String</code>, and many more.</p>
    <p>A good exercise at this point is to define an <code>Addable</code> instance for <code>List[A]</code>.</p>
    
    <h3 id="making-an-exception" class="section"><a class="anchor-link" href="#making-an-exception"><code class="fas fa-link fa-sm"></code></a>Making an Exception</h3>
    <p>What happens when we pass in an empty <code>List</code> to our summer function though?
    We get an exception! How do we prevent this? A common answer I get is
    &quot;Oh I know it won&#39;t happen&quot; – this is not ideal, we want to guarantee safety
    as much as possible without having to rely on human judgement.</p>
    <p>How then do we write a safer summer function? Lets turn to an alternative
    way of implementing sum on <code>List[Int]</code>.</p>
    <pre><code class="nohighlight"><span class="comment">// Old, bad version
</span><span class="keyword">def</span><span> </span><span class="declaration-name">sum</span><span>(</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]): </span><span class="type-name">Int</span><span> = </span><span class="identifier">l</span><span>.</span><span class="identifier">reduce</span><span>(</span><span class="identifier">_</span><span> + </span><span class="identifier">_</span><span>)

</span><span class="comment">// Shiny, new version
</span><span class="keyword">def</span><span> </span><span class="declaration-name">sum</span><span>(</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]): </span><span class="type-name">Int</span><span> = </span><span class="identifier">l</span><span>.</span><span class="identifier">foldLeft</span><span>(</span><span class="number-literal">0</span><span>)(</span><span class="identifier">_</span><span> + </span><span class="identifier">_</span><span>)</span></code></pre>
    <p>What happens now when we pass an empty <code>List</code> into the sum function? We get 0,
    not an exception! Note that before all we gave the program was a binary
    operation (what <code>Addable</code> defines), where now we give a binary option <em>and</em> a
    &quot;zero&quot; or starting value (the 0). As it stands, we cannot write this with
    <code>Addable</code> since it has no &quot;zero&quot;.</p>
    <p>It may be tempting to just add a <code>zero</code> method to <code>Addable</code>, but then we may run
    into the same issues we had with <code>Numeric</code> later on – we don&#39;t <em>always</em> need
    a &quot;zero&quot;, sometimes a binary operation is good enough. So instead, let&#39;s create
    an <code>AddableWithZero</code> type class.</p>
    <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">AddableWithZero</span><span>[</span><span class="type-name">A</span><span>] </span><span class="keyword">extends</span><span> </span><span class="type-name">Addable</span><span>[</span><span class="type-name">A</span><span>] {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">zero</span><span>: </span><span class="type-name">A</span><span>
}</span></code></pre>
    <p>Note that while you dont see the <code>plus</code> method in here, the fact
    it <code>extends Addable</code> without implementing the <code>plus</code> method propagates the need to
    implement that method, so programmers who want to create an <code>AddableWithZero[A]</code> instance
    need to implement both.</p>
    <p>Programmers can now write functions that depend only on <code>Addable</code>, or perhaps if they
    need a bit more power use <code>AddableWithZero</code>. Types that have <code>AddableWithZero</code> instances
    also have <code>Addable</code> instances automatically due to subtyping.</p>
    <p>Lets move our <code>Addable</code> instances to the <code>AddableWithZero</code> object.</p>
    <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">AddableWithZero</span><span> {
  </span><span class="keyword">implicit</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">numericIsAddableZero</span><span>[</span><span class="type-name">A</span><span>](</span><span class="keyword">implicit</span><span> </span><span class="type-name">A</span><span>: </span><span class="type-name">Numeric</span><span>[</span><span class="type-name">A</span><span>]): </span><span class="type-name">AddableWithZero</span><span>[</span><span class="type-name">A</span><span>] =
    </span><span class="keyword">new</span><span> </span><span class="type-name">AddableWithZero</span><span>[</span><span class="type-name">A</span><span>] {
      </span><span class="keyword">def</span><span> </span><span class="declaration-name">plus</span><span>(</span><span class="identifier">x</span><span>: </span><span class="type-name">A</span><span>, </span><span class="identifier">y</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">A</span><span> = </span><span class="type-name">A</span><span>.</span><span class="identifier">plus</span><span>(</span><span class="identifier">x</span><span>, </span><span class="identifier">y</span><span>)
      </span><span class="keyword">def</span><span> </span><span class="declaration-name">zero</span><span>: </span><span class="type-name">A</span><span> = </span><span class="type-name">A</span><span>.</span><span class="identifier">zero</span><span>
    }

  </span><span class="keyword">implicit</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">stringIsAddableZero</span><span>: </span><span class="type-name">AddableWithZero</span><span>[</span><span class="type-name">String</span><span>] =
    </span><span class="keyword">new</span><span> </span><span class="type-name">AddableWithZero</span><span>[</span><span class="type-name">String</span><span>] {
      </span><span class="keyword">def</span><span> </span><span class="declaration-name">plus</span><span>(</span><span class="identifier">x</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">y</span><span>: </span><span class="type-name">String</span><span>): </span><span class="type-name">String</span><span> = </span><span class="identifier">x</span><span> + </span><span class="identifier">y</span><span>
      </span><span class="keyword">def</span><span> </span><span class="declaration-name">zero</span><span>: </span><span class="type-name">String</span><span> = </span><span class="string-literal">&quot;&quot;</span><span>
    }
}</span></code></pre>
    <p>And finally, our shiny new generic sum function!</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sumGeneric</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>])(</span><span class="keyword">implicit</span><span> </span><span class="type-name">A</span><span>: </span><span class="type-name">AddableWithZero</span><span>[</span><span class="type-name">A</span><span>]): </span><span class="type-name">A</span><span> =
  </span><span class="identifier">l</span><span>.</span><span class="identifier">foldLeft</span><span>(</span><span class="type-name">A</span><span>.</span><span class="identifier">zero</span><span>)(</span><span class="type-name">A</span><span>.</span><span class="identifier">plus</span><span>)</span></code></pre>
    <p>Hurrah!</p>
    
    <h3 id="plot-twist" class="section"><a class="anchor-link" href="#plot-twist"><code class="fas fa-link fa-sm"></code></a>Plot Twist</h3>
    <p>It turns out that our <code>Addable</code> and <code>AddableWithZero</code> type classes is not just us being
    sly and clever, but an actual thing! They are called <code>Semigroup</code> and
    <code>Monoid</code> (respectively), taken from the wonderful field of abstract algebra. Abstract
    algebra is a field dedicated to studying algebraic structures as opposed
    to just numbers as we may be used to. The field looks into what properties
    and operations various structures have in common, such as integers and
    matrices. For instance, we can add two integers, as well as two matrices of the same size.
    This is analogous to how we noticed the <code>plus</code> worked on not only <code>Numeric</code>
    but <code>String</code> and <code>List[A]</code> as well! This is the kind of generecity we&#39;re looking for.</p>
    <p>Here&#39;s what <code>sumGeneric</code> looks like in Scalaz land.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Monoid</span><span>

</span><span class="keyword">def</span><span> </span><span class="declaration-name">sumGeneric</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">l</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>])(</span><span class="keyword">implicit</span><span> </span><span class="type-name">A</span><span>: </span><span class="type-name">Monoid</span><span>[</span><span class="type-name">A</span><span>]): </span><span class="type-name">A</span><span> =
  </span><span class="identifier">l</span><span>.</span><span class="identifier">foldLeft</span><span>(</span><span class="type-name">A</span><span>.</span><span class="identifier">zero</span><span>)((</span><span class="identifier">x</span><span>, </span><span class="identifier">y</span><span>) =&gt; </span><span class="type-name">A</span><span>.</span><span class="identifier">append</span><span>(</span><span class="identifier">x</span><span>, </span><span class="identifier">y</span><span>))</span></code></pre>
    <p>Thankfully we dont have to create our own versions of <code>Semigroup</code> and <code>Monoid</code> –
    Scalaz has one for us! In fact, the developers of Scalaz have been kind enough to define
    several <code>Monoid</code> instances for common types such as <code>Numeric</code>, <code>String</code>, <code>List[A]</code>, etc.
    There are also instances for tuples – if we have a tuple, say of type <code>(A, B, C)</code>,
    and all three types have <code>Monoid</code> instances themselves, then the whole tuple has an
    instance where the <code>zero</code> is the tuple <code>(A.zero, B.zero, C.zero)</code> and the <code>plus</code> is
    appending corresponding pairs between the two tuples. Look for instances that may already
    be defined before defining your own on existing types.</p>
    <p class="bulma-notification">If you are interested in learning more about numeric programming, check out
      the <a href="https://github.com/non/spire">spire</a> library, as well as the
      accompanying post about <a href="generic-numeric-programming.html">generic numeric programming</a>.</p>
    
    <h3 id="law-abiding-citizen" class="section"><a class="anchor-link" href="#law-abiding-citizen"><code class="fas fa-link fa-sm"></code></a>Law-Abiding Citizen</h3>
    <p>To close this post off, I confess one thing: defining a <code>Monoid</code> (and <code>Semigroup</code>) instance
    should not be done without some thought. It is not enough that you simply have a zero and
    a binary operation – to truly have a <code>Monoid</code> or <code>Semigroup</code> certain laws must be obeyed.
    These laws are as follows:</p>
    <p>Call the <code>plus</code> operation <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex"> + </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span> and the <code>zero</code> value <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex"> 0 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>. Arbitrary values of type <code>A</code> will be
    referred to as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex"> a </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex"> b </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>, etc.</p>
    <p>The <code>Semigroup</code> law requires <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex"> + </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span> to be associative. That is:</p>
    <span class="bulma-has-text-centered"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo><mo>+</mo><mi>c</mi><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mi>b</mi><mo>+</mo><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> (a + b) + c = a + (b + c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">)</span></span></span></span></span></span>
    <p>In addition to the <code>Semigroup</code> law for the binary operation, the <code>Monoid</code> law relates
    <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex"> + </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex"> 0 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>:</p>
    <span class="bulma-has-text-centered"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>0</mn><mo>+</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">  (a + 0) = (0 + a) = a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span></span></span>
    <p>To check these laws, Scalaz provides <a href="https://github.com/scalaz/scalaz/tree/v7.0.4/scalacheck-binding">ScalaCheck</a>
    bindings to help you, but that is a topic for another day.</p>
    <p>Note that a particular type can have several <code>Semigroup</code> or <code>Monoid</code>s that make sense.
    For instance, <code>Int</code> has a <code>Monoid</code> on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>+</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> (+, 0) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">+</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span> as well as on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>∗</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> (*, 1) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">∗</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>. Convince yourself
    (using the above laws) that this makes sense.</p>
    <p>This raises the question of how we get both <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex"> + </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∗</mo></mrow><annotation encoding="application/x-tex"> * </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord">∗</span></span></span></span> <code>Monoid</code>s for <code>Int</code> without
    making <code>scalac</code> freak out about ambiguous implicit values. The answer is &quot;tagged types&quot;,
    again a topic for another day.</p>
    
    <h2 id="getting-help" class="section"><a class="anchor-link" href="#getting-help"><code class="fas fa-link fa-sm"></code></a>Getting Help</h2>
    <p>If you have any questions/comments/concerns, feel free to hop onto the IRC channel on
    Freenode at <code>#scalaz</code>.</p>
  </div>
</div>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="bulma-columns">
    
    <div class="bulma-column">
      <article class="bulma-media">
  
  <figure class="bulma-media-left">
    <p class="bulma-image bulma-is-64x64">
      <img class="bulma-is-rounded" src="https://github.com/adelbertc.png" />
    </p>
  </figure>
  
  <div class="bulma-media-content">
    <div class="bulma-content">
      <p>
        <strong>Adelbert Chang</strong> 
        
        
        <br />
        Adelbert is an engineer at Box where he attempts to reliably copy bytes from one machine to another. He enjoys writing pure functional programs, teaching functional programming, and learning more about computing.
        
        
        
      </p>
    </div>
    <nav class="bulma-level bulma-is-align-items-start">
      <div class="bulma-level-left bulma-is-flex-direction-row">
        
        
        
        <a class="bulma-level-item" href="http://github.com/adelbertc">
          <span class="bulma-icon bulma-is-small"><i class="fab fa-github"></i></span>
        </a>
        
        
        
        
      </div>
    </nav>
  </div>
</article>

    </div>
    
  </div>
</div>


  </main>
  <footer class="bulma-footer">
  <div class="bulma-columns">
    <div class="bulma-column bulma-is-half">
      Copyright 2026 Typelevel Foundation and <a href="https://github.com/typelevel/typelevel.github.com/graphs/contributors">contributors</a>.
      Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> unless <a href="../colophon.html#license">noted otherwise</a>.
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../projects/">Project Index</a></li>
        <li><a href="../community/meetups.html">Meetup Calendar</a></li>
        <li><a href="../foundation/people.html">Leadership</a></li>
      </ul>
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../code-of-conduct/">Code of Conduct</a></li>
        <li><a href="../security.html">Security Policy</a></li>
        <li><a href="../colophon.html">Colophon</a></li>
      </ul>
    </div>
  </div>
  <div class="bulma-has-text-centered">
    <div>Find us on ...</div>
    <div>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://github.com/typelevel">
        <i class="fab fa-github fa-2x"></i>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://discord.gg/typelevel-632277896739946517">
        <i class="fab fa-discord fa-2x"></i>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://bsky.app/profile/typelevel.org">
        <i class="fab fa-bluesky fa-2x"></i>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://fosstodon.org/@typelevel">
        <i class="fab fa-mastodon fa-2x"></i>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://www.youtube.com/@typelevel">
        <i class="fab fa-youtube fa-2x"></i>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current"
        href="https://linkedin.com/company/typelevel-foundation">
        <i class="fab fa-linkedin fa-2x"></i>
      </a>
    </div>
  </div>
</footer>

</body>

</html>

